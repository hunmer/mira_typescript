# Mira TypeScript

ä¸€ä¸ªåŸºäº TypeScript çš„ç°ä»£åŒ–åª’ä½“èµ„æºç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«åç«¯æœåŠ¡å’Œå‰ç«¯ç®¡ç†é¢æ¿ã€‚

## é¡¹ç›®æ¶æ„

```
mira_typescript/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ mira-app-core/              # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ mira-app-server/            # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ mira-dashboard/         # å‰ç«¯ç®¡ç†é¢æ¿ â­ æ–°å¢
â”‚   â””â”€â”€ mira-storage-sqlite/    # SQLite å­˜å‚¨é€‚é…å™¨
â”œâ”€â”€ plugins/                    # æ’ä»¶ç›®å½•
â”œâ”€â”€ data/                       # æ•°æ®ç›®å½•
â””â”€â”€ .vscode/                    # VS Code é…ç½®
```

## åŠŸèƒ½ç‰¹æ€§

### åç«¯æœåŠ¡ (mira-app-server)
- ğŸš€ åŸºäº Node.js + TypeScript çš„é«˜æ€§èƒ½æœåŠ¡
- ğŸ“ èµ„æºåº“ç®¡ç†ï¼ˆæœ¬åœ°/è¿œç¨‹ï¼‰
- ğŸ”Œ æ’ä»¶ç³»ç»Ÿæ”¯æŒ
- ğŸŒ WebSocket å®æ—¶é€šä¿¡
- ğŸ—„ï¸ SQLite æ•°æ®å­˜å‚¨
- ğŸ”’ ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†

### å‰ç«¯ç®¡ç†é¢æ¿ (mira-dashboard) â­ æ–°å¢
- ğŸ¨ åŸºäº Vue 3 + Vite + TailwindCSS çš„ç°ä»£åŒ–ç•Œé¢
- ğŸ“Š ç³»ç»Ÿæ¦‚è§ˆå’Œç»Ÿè®¡ä¿¡æ¯
- ğŸ“ **èµ„æºåº“ç®¡ç†å™¨** - å¯è§†åŒ–ç®¡ç†æ‰€æœ‰èµ„æºåº“
- ğŸ”Œ **æ’ä»¶ç®¡ç†å™¨** - æ’ä»¶çš„å®‰è£…ã€é…ç½®ã€å¯ç”¨/ç¦ç”¨
- ğŸ‘¥ **ç®¡ç†å‘˜ç®¡ç†** - ç®¡ç†å‘˜è´¦æˆ·çš„å¢åˆ æ”¹æŸ¥
- ğŸ—„ï¸ **SQLiteæ•°æ®åº“é¢„è§ˆ** - å¯è§†åŒ–æ•°æ®åº“æ“ä½œå’ŒSQLæŸ¥è¯¢
- ğŸ”§ ç¯å¢ƒå˜é‡æ”¯æŒè®¾ç½®åˆå§‹ç®¡ç†å‘˜

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js 18+
- npm æˆ– yarn

### 1. å®‰è£…ä¾èµ–
```bash
# å®‰è£…æ‰€æœ‰åŒ…çš„ä¾èµ–
npm run install-all
```

### 2. å¯åŠ¨å¼€å‘ç¯å¢ƒ

#### æ–¹å¼ä¸€ï¼šå¯åŠ¨å®Œæ•´å…¨æ ˆï¼ˆæ¨èï¼‰
```bash
# Windows
./start-full-stack.bat

# PowerShell
./start-full-stack.ps1

# æˆ–ä½¿ç”¨ VS Code ä»»åŠ¡
# Ctrl+Shift+P -> Tasks: Run Task -> start-full-stack
```

#### æ–¹å¼äºŒï¼šåˆ†åˆ«å¯åŠ¨æœåŠ¡
```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd packages/mira-app-server
npm run dev

# å¯åŠ¨å‰ç«¯ç®¡ç†é¢æ¿
cd packages/mira-dashboard
npm run dev
```

### 3. è®¿é—®åº”ç”¨
- **åç«¯API**: http://localhost:8081
- **å‰ç«¯ç®¡ç†é¢æ¿**: http://localhost:3000
- **é»˜è®¤ç™»å½•**: ç”¨æˆ·å `admin`ï¼Œå¯†ç  `admin123`

## å¼€å‘é…ç½®

### VS Code ä»»åŠ¡
é¡¹ç›®å·²é…ç½®å®Œæ•´çš„ VS Code å¼€å‘ç¯å¢ƒï¼š

- **start-mira-dashboard-dev**: å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨
- **build-mira-dashboard**: æ„å»ºå‰ç«¯ç”Ÿäº§ç‰ˆæœ¬
- **start-full-stack**: å¯åŠ¨å®Œæ•´å…¨æ ˆåº”ç”¨
- **build-full-stack**: æ„å»ºå®Œæ•´å…¨æ ˆåº”ç”¨

### è°ƒè¯•é…ç½®
- **Debug Mira Dashboard (Chrome/Edge)**: å‰ç«¯è°ƒè¯•
- **Debug Full Stack**: å…¨æ ˆè°ƒè¯•

### ç¯å¢ƒå˜é‡é…ç½®
åœ¨ `packages/mira-dashboard/.env` ä¸­é…ç½®ï¼š

```env
# åº”ç”¨é…ç½®
APP_TITLE=Mira Dashboard
API_BASE_URL=http://localhost:8081

# åˆå§‹ç®¡ç†å‘˜é…ç½®
INITIAL_ADMIN_USERNAME=admin
INITIAL_ADMIN_PASSWORD=admin123
INITIAL_ADMIN_EMAIL=admin@mira.local
```

## æŠ€æœ¯æ ˆ

### åç«¯
- **Node.js** + **TypeScript**
- **Express.js** - Web æ¡†æ¶
- **WebSocket** - å®æ—¶é€šä¿¡
- **SQLite** - æ•°æ®å­˜å‚¨
- **æ’ä»¶ç³»ç»Ÿ** - æ¨¡å—åŒ–æ‰©å±•

### å‰ç«¯ â­
- **Vue 3** - å‰ç«¯æ¡†æ¶ï¼ˆComposition APIï¼‰
- **Vite** - æ„å»ºå·¥å…·
- **TypeScript** - ç±»å‹å®‰å…¨
- **Element Plus** - UI ç»„ä»¶åº“
- **TailwindCSS** - CSS æ¡†æ¶
- **Pinia** - çŠ¶æ€ç®¡ç†
- **Monaco Editor** - ä»£ç ç¼–è¾‘å™¨
- **Axios** - HTTP å®¢æˆ·ç«¯

## é¡¹ç›®ç»“æ„

### å‰ç«¯ç®¡ç†é¢æ¿è¯¦ç»†ç»“æ„
```
packages/mira-dashboard/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ StatCard.vue    # ç»Ÿè®¡å¡ç‰‡
â”‚   â”‚   â””â”€â”€ MonacoEditor.vue # ä»£ç ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ layouts/            # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ DashboardLayout.vue
â”‚   â”œâ”€â”€ views/              # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login.vue       # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ Overview.vue    # ç³»ç»Ÿæ¦‚è§ˆ
â”‚   â”‚   â”œâ”€â”€ LibraryManager.vue    # èµ„æºåº“ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ PluginManager.vue     # æ’ä»¶ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ AdminManager.vue      # ç®¡ç†å‘˜ç®¡ç†
â”‚   â”‚   â””â”€â”€ DatabaseViewer.vue    # æ•°æ®åº“é¢„è§ˆå™¨
â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”œâ”€â”€ stores/             # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ style.css           # å…¨å±€æ ·å¼
â””â”€â”€ README.md               # è¯¦ç»†ä½¿ç”¨è¯´æ˜
```

## åŠŸèƒ½æ¨¡å—è¯¦è§£

### ğŸ¯ ç³»ç»Ÿæ¦‚è§ˆ (Overview)
- ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ç›‘æ§
- èµ„æºç»Ÿè®¡ä¿¡æ¯
- æœ€è¿‘æ´»åŠ¨è®°å½•
- ç³»ç»Ÿä¿¡æ¯å±•ç¤º

### ğŸ“ èµ„æºåº“ç®¡ç†å™¨ (LibraryManager)
- èµ„æºåº“çš„å¢åˆ æ”¹æŸ¥
- æœ¬åœ°/è¿œç¨‹èµ„æºåº“æ”¯æŒ
- æœç´¢å’ŒçŠ¶æ€ç­›é€‰
- æ–‡ä»¶æ•°é‡å’Œå¤§å°ç»Ÿè®¡
- æ‰¹é‡æ“ä½œæ”¯æŒ

### ğŸ”Œ æ’ä»¶ç®¡ç†å™¨ (PluginManager)
- æ’ä»¶å®‰è£…ï¼ˆæœ¬åœ°ä¸Šä¼ /è¿œç¨‹ä»“åº“ï¼‰
- æ’ä»¶é…ç½®ç®¡ç†ï¼ˆJSON ç¼–è¾‘å™¨ï¼‰
- æ’ä»¶çŠ¶æ€æ§åˆ¶ï¼ˆå¯ç”¨/ç¦ç”¨ï¼‰
- æ’ä»¶æ›´æ–°å’Œå¸è½½
- ä¾èµ–å…³ç³»ç®¡ç†

### ğŸ‘¥ ç®¡ç†å‘˜ç®¡ç† (AdminManager)
- ç®¡ç†å‘˜è´¦æˆ·åˆ›å»ºå’Œåˆ é™¤
- æƒé™ç®¡ç†
- é‚®ç®±å’Œå¯†ç ç®¡ç†
- ç¯å¢ƒå˜é‡åˆå§‹ç®¡ç†å‘˜é…ç½®

### ğŸ—„ï¸ æ•°æ®åº“é¢„è§ˆå™¨ (DatabaseViewer)
- SQLite æ•°æ®åº“è¡¨æµè§ˆ
- è¡¨ç»“æ„æŸ¥çœ‹
- æ•°æ®çš„å¢åˆ æ”¹æŸ¥
- SQL æŸ¥è¯¢æ‰§è¡Œ
- æ•°æ®å¯¼å‡ºï¼ˆCSV æ ¼å¼ï¼‰

## æ’ä»¶å¼€å‘

ç³»ç»Ÿæ”¯æŒæ’ä»¶æ‰©å±•ï¼Œæ’ä»¶ç›®å½•ï¼š`plugins/`

å·²åŒ…å«ç¤ºä¾‹æ’ä»¶ï¼š
- **mira_thumb**: ç¼©ç•¥å›¾ç”Ÿæˆ
- **mira_user**: ç”¨æˆ·ç®¡ç†
- **upload_statistics**: ä¸Šä¼ ç»Ÿè®¡

## æ„å»ºå’Œéƒ¨ç½²

### å¼€å‘ç¯å¢ƒ
```bash
npm run dev  # æ‰€æœ‰åŒ…çš„å¼€å‘æ¨¡å¼
```

### ç”Ÿäº§æ„å»º
```bash
npm run build  # æ„å»ºæ‰€æœ‰åŒ…
```

### å‰ç«¯å•ç‹¬éƒ¨ç½²
```bash
cd packages/mira-dashboard
npm run build
# éƒ¨ç½² dist/ ç›®å½•åˆ° Web æœåŠ¡å™¨
```

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## æ›´æ–°æ—¥å¿—

### v1.1.0 â­ æ–°å¢å‰ç«¯ç®¡ç†é¢æ¿
- âœ¨ æ–°å¢ Vue 3 + Vite + TailwindCSS å‰ç«¯ç®¡ç†é¢æ¿
- ğŸ¨ ç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢è®¾è®¡
- ğŸ“Š å®Œæ•´çš„ç³»ç»Ÿç®¡ç†åŠŸèƒ½
- ğŸ”§ VS Code å¼€å‘ç¯å¢ƒé…ç½®ä¼˜åŒ–
- ğŸ“ è¯¦ç»†çš„å¼€å‘æ–‡æ¡£

### v1.0.0 
- ğŸš€ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- ğŸ“ èµ„æºåº“ç®¡ç†
- ğŸ”Œ æ’ä»¶ç³»ç»Ÿ
- ğŸ—„ï¸ SQLite å­˜å‚¨
